<div class="h-100 overflow-auto">
  <app-top-nav-spacing></app-top-nav-spacing>
  <img [src]="product.thumbnail" class="w-100" />

  <div class="container top-content d-flex justify-content-between mt-3">
    <div class="right-side">
      <h2>{{ product.name }}</h2>
      <p class="description opacity-64 align-self-start">
        {{ product.description }}
      </p>
      <app-price [price]="product.price" [discountPercentage]="product.discountPercentage"></app-price>
    </div>

    <button mat-raised-button color="primary" class="add-button d-flex justify-content-center align-items-center">
      افزودن
      <mat-icon class="material-icons-round"> add</mat-icon>
    </button>
  </div>

  <mat-accordion class="m-2">
    <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
      <mat-expansion-panel-header>
        <mat-panel-title>
          <h3>انتخاب نان</h3>
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="ingredients d-flex justify-content-between my-2" *ngFor="let bread of product.breads">
        <div class="price-and-select">
          <p>{{ bread.item.name }}</p>
        </div>
        <div class="d-flex flex-row align-items-center">
          <p class="price mx-3">+ {{ bread.item.price }} تومان</p>
          <mat-radio-button value="1" [disabled]="bread.item.available === false" color="primary"></mat-radio-button>
        </div>
      </div>
    </mat-expansion-panel>
    <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
      <mat-expansion-panel-header>
        <mat-panel-title>
          <h3>محتویات محصول</h3>
        </mat-panel-title>
      </mat-expansion-panel-header>

      <div class="d-flex justify-content-between my-2" *ngFor="let ingredient of product.ingredients">
        <p>
          {{ ingredient.item.name }}
        </p>
        <mat-checkbox color="primary" [disabled]="ingredient.item.available === false"
          [checked]="ingredient.required === true">
        </mat-checkbox>
      </div>
    </mat-expansion-panel>
    <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
      <mat-expansion-panel-header>
        <mat-panel-title>
          <h3>افزودنی</h3>
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="ingredients d-flex justify-content-between px-3 my-2" *ngFor="let option of product.optional">
        <div class="price-and-select d-flex justify-content-between w-50">
          <p>{{ option.item.name }}</p>
          <p class="price">+{{ option.item.price }} تومان</p>
        </div>
        <app-handlenumber></app-handlenumber>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
  <app-bottom-nav-spacing></app-bottom-nav-spacing>
</div>